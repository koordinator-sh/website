"use strict";(self.webpackChunkkoordinator_sh=self.webpackChunkkoordinator_sh||[]).push([[1562],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>d});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=r.createContext({}),k=function(e){var t=r.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=k(e.components);return r.createElement(p.Provider,{value:t},e.children)},m="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},s=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=k(a),s=n,d=m["".concat(p,".").concat(s)]||m[s]||g[s]||l;return a?r.createElement(d,o(o({ref:t},u),{},{components:a})):r.createElement(d,o({ref:t},u))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,o=new Array(l);o[0]=s;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[m]="string"==typeof e?e:n,o[1]=i;for(var k=2;k<l;k++)o[k]=a[k];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}s.displayName="MDXCreateElement"},73169:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>g,frontMatter:()=>l,metadata:()=>i,toc:()=>k});var r=a(87462),n=(a(67294),a(3905));const l={},o="\u5f00\u53d1\u81ea\u5b9a\u4e49\u8c03\u5ea6\u63d2\u4ef6",i={unversionedId:"developer-guide/plugin-development",id:"version-v1.7/developer-guide/plugin-development",title:"\u5f00\u53d1\u81ea\u5b9a\u4e49\u8c03\u5ea6\u63d2\u4ef6",description:"\u76ee\u5f55",source:"@site/i18n/zh-Hans/docusaurus-plugin-content-docs/version-v1.7/developer-guide/plugin-development.md",sourceDirName:"developer-guide",slug:"/developer-guide/plugin-development",permalink:"/zh-Hans/docs/developer-guide/plugin-development",draft:!1,editUrl:"https://github.com/koordinator-sh/koordinator.sh/edit/main/docs/developer-guide/plugin-development.md",tags:[],version:"v1.7",lastUpdatedBy:"\u4e54\u666e",lastUpdatedAt:1761882390,formattedLastUpdatedAt:"2025\u5e7410\u670831\u65e5",frontMatter:{},sidebar:"docs",previous:{title:"\u53ef\u6269\u5c55\u6027",permalink:"/zh-Hans/docs/developer-guide/extensibility"},next:{title:"\u81ea\u5b9a\u4e49\u8c03\u5ea6\u7b56\u7565",permalink:"/zh-Hans/docs/developer-guide/custom-scheduling-policies"}},p={},k=[{value:"\u76ee\u5f55",id:"\u76ee\u5f55",level:2},{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb",level:2},{value:"\u8c03\u5ea6\u5668\u63d2\u4ef6\u67b6\u6784",id:"\u8c03\u5ea6\u5668\u63d2\u4ef6\u67b6\u6784",level:2},{value:"QoS Manager \u63d2\u4ef6\u67b6\u6784",id:"qos-manager-\u63d2\u4ef6\u67b6\u6784",level:2},{value:"\u63d2\u4ef6\u63a5\u53e3\u8981\u6c42",id:"\u63d2\u4ef6\u63a5\u53e3\u8981\u6c42",level:2},{value:"\u8c03\u5ea6\u5668\u63d2\u4ef6\u63a5\u53e3",id:"\u8c03\u5ea6\u5668\u63d2\u4ef6\u63a5\u53e3",level:3},{value:"QoS Manager \u63d2\u4ef6\u63a5\u53e3",id:"qos-manager-\u63d2\u4ef6\u63a5\u53e3",level:3},{value:"\u63d2\u4ef6\u6ce8\u518c\u673a\u5236",id:"\u63d2\u4ef6\u6ce8\u518c\u673a\u5236",level:2},{value:"\u8c03\u5ea6\u5668\u63d2\u4ef6\u6ce8\u518c",id:"\u8c03\u5ea6\u5668\u63d2\u4ef6\u6ce8\u518c",level:3},{value:"QoS Manager \u63d2\u4ef6\u6ce8\u518c",id:"qos-manager-\u63d2\u4ef6\u6ce8\u518c",level:3},{value:"\u8c03\u5ea6\u5668\u63d2\u4ef6\u5b9e\u73b0\u793a\u4f8b",id:"\u8c03\u5ea6\u5668\u63d2\u4ef6\u5b9e\u73b0\u793a\u4f8b",level:2},{value:"\u63d2\u4ef6\u7ed3\u6784",id:"\u63d2\u4ef6\u7ed3\u6784",level:3},{value:"\u72b6\u6001\u7ba1\u7406",id:"\u72b6\u6001\u7ba1\u7406",level:3},{value:"QoS Manager \u63d2\u4ef6\u5b9e\u73b0\u793a\u4f8b",id:"qos-manager-\u63d2\u4ef6\u5b9e\u73b0\u793a\u4f8b",level:2},{value:"\u5f00\u53d1\u5de5\u4f5c\u6d41",id:"\u5f00\u53d1\u5de5\u4f5c\u6d41",level:2},{value:"\u63d2\u4ef6\u521b\u5efa",id:"\u63d2\u4ef6\u521b\u5efa",level:3},{value:"\u6d4b\u8bd5",id:"\u6d4b\u8bd5",level:3},{value:"\u90e8\u7f72",id:"\u90e8\u7f72",level:3},{value:"\u751f\u547d\u5468\u671f\u65b9\u6cd5\u4e0e\u56de\u8c03\u673a\u5236",id:"\u751f\u547d\u5468\u671f\u65b9\u6cd5\u4e0e\u56de\u8c03\u673a\u5236",level:2},{value:"\u8c03\u5ea6\u5668\u63d2\u4ef6\u751f\u547d\u5468\u671f",id:"\u8c03\u5ea6\u5668\u63d2\u4ef6\u751f\u547d\u5468\u671f",level:3},{value:"QoS Manager \u63d2\u4ef6\u751f\u547d\u5468\u671f",id:"qos-manager-\u63d2\u4ef6\u751f\u547d\u5468\u671f",level:3},{value:"\u5e38\u89c1\u9677\u9631\u4e0e\u8c03\u8bd5\u7b56\u7565",id:"\u5e38\u89c1\u9677\u9631\u4e0e\u8c03\u8bd5\u7b56\u7565",level:2},{value:"\u5e38\u89c1\u5f00\u53d1\u9677\u9631",id:"\u5e38\u89c1\u5f00\u53d1\u9677\u9631",level:3},{value:"\u8c03\u8bd5\u7b56\u7565",id:"\u8c03\u8bd5\u7b56\u7565",level:3}],u={toc:k},m="wrapper";function g(e){let{components:t,...a}=e;return(0,n.kt)(m,(0,r.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"\u5f00\u53d1\u81ea\u5b9a\u4e49\u8c03\u5ea6\u63d2\u4ef6"},"\u5f00\u53d1\u81ea\u5b9a\u4e49\u8c03\u5ea6\u63d2\u4ef6"),(0,n.kt)("h2",{id:"\u76ee\u5f55"},"\u76ee\u5f55"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E5%BC%80%E5%8F%91%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B0%83%E5%BA%A6%E6%8F%92%E4%BB%B6"},"\u5f00\u53d1\u81ea\u5b9a\u4e49\u8c03\u5ea6\u63d2\u4ef6"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E7%9B%AE%E5%BD%95"},"\u76ee\u5f55")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E7%AE%80%E4%BB%8B"},"\u7b80\u4ecb")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E8%B0%83%E5%BA%A6%E5%99%A8%E6%8F%92%E4%BB%B6%E6%9E%B6%E6%9E%84"},"\u8c03\u5ea6\u5668\u63d2\u4ef6\u67b6\u6784")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#qos-manager-%E6%8F%92%E4%BB%B6%E6%9E%B6%E6%9E%84"},"QoS Manager \u63d2\u4ef6\u67b6\u6784")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E6%8F%92%E4%BB%B6%E6%8E%A5%E5%8F%A3%E8%A6%81%E6%B1%82"},"\u63d2\u4ef6\u63a5\u53e3\u8981\u6c42"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E8%B0%83%E5%BA%A6%E5%99%A8%E6%8F%92%E4%BB%B6%E6%8E%A5%E5%8F%A3"},"\u8c03\u5ea6\u5668\u63d2\u4ef6\u63a5\u53e3")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#qos-manager-%E6%8F%92%E4%BB%B6%E6%8E%A5%E5%8F%A3"},"QoS Manager \u63d2\u4ef6\u63a5\u53e3")))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E6%8F%92%E4%BB%B6%E6%B3%A8%E5%86%8C%E6%9C%BA%E5%88%B6"},"\u63d2\u4ef6\u6ce8\u518c\u673a\u5236"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E8%B0%83%E5%BA%A6%E5%99%A8%E6%8F%92%E4%BB%B6%E6%B3%A8%E5%86%8C"},"\u8c03\u5ea6\u5668\u63d2\u4ef6\u6ce8\u518c")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#qos-manager-%E6%8F%92%E4%BB%B6%E6%B3%A8%E5%86%8C"},"QoS Manager \u63d2\u4ef6\u6ce8\u518c")))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E8%B0%83%E5%BA%A6%E5%99%A8%E6%8F%92%E4%BB%B6%E5%AE%9E%E7%8E%B0%E7%A4%BA%E4%BE%8B"},"\u8c03\u5ea6\u5668\u63d2\u4ef6\u5b9e\u73b0\u793a\u4f8b"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E6%8F%92%E4%BB%B6%E7%BB%93%E6%9E%84"},"\u63d2\u4ef6\u7ed3\u6784")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86"},"\u72b6\u6001\u7ba1\u7406")))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#qos-manager-%E6%8F%92%E4%BB%B6%E5%AE%9E%E7%8E%B0%E7%A4%BA%E4%BE%8B"},"QoS Manager \u63d2\u4ef6\u5b9e\u73b0\u793a\u4f8b")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E5%BC%80%E5%8F%91%E5%B7%A5%E4%BD%9C%E6%B5%81"},"\u5f00\u53d1\u5de5\u4f5c\u6d41"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E6%8F%92%E4%BB%B6%E5%88%9B%E5%BB%BA"},"\u63d2\u4ef6\u521b\u5efa")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E6%B5%8B%E8%AF%95"},"\u6d4b\u8bd5")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E9%83%A8%E7%BD%B2"},"\u90e8\u7f72")))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%96%B9%E6%B3%95%E4%B8%8E%E5%9B%9E%E8%B0%83%E6%9C%BA%E5%88%B6"},"\u751f\u547d\u5468\u671f\u65b9\u6cd5\u4e0e\u56de\u8c03\u673a\u5236"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E8%B0%83%E5%BA%A6%E5%99%A8%E6%8F%92%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"},"\u8c03\u5ea6\u5668\u63d2\u4ef6\u751f\u547d\u5468\u671f")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#qos-manager-%E6%8F%92%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"},"QoS Manager \u63d2\u4ef6\u751f\u547d\u5468\u671f")))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E5%B8%B8%E8%A7%81%E9%99%B7%E9%98%B1%E4%B8%8E%E8%B0%83%E8%AF%95%E7%AD%96%E7%95%A5"},"\u5e38\u89c1\u9677\u9631\u4e0e\u8c03\u8bd5\u7b56\u7565"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E5%B8%B8%E8%A7%81%E5%BC%80%E5%8F%91%E9%99%B7%E9%98%B1"},"\u5e38\u89c1\u5f00\u53d1\u9677\u9631")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#%E8%B0%83%E8%AF%95%E7%AD%96%E7%95%A5"},"\u8c03\u8bd5\u7b56\u7565"))))))),(0,n.kt)("h2",{id:"\u7b80\u4ecb"},"\u7b80\u4ecb"),(0,n.kt)("p",null,"Koordinator \u4e3a\u6269\u5c55\u8c03\u5ea6\u5668\u548c koordlet \u7ec4\u4ef6\u63d0\u4f9b\u5168\u9762\u7684\u63d2\u4ef6\u7cfb\u7edf\u3002\u672c\u6587\u6863\u8be6\u7ec6\u4ecb\u7ecd\u67b6\u6784\u3001\u63a5\u53e3\u8981\u6c42\u548c\u521b\u5efa\u81ea\u5b9a\u4e49\u63d2\u4ef6\u7684\u5f00\u53d1\u5de5\u4f5c\u6d41\u3002\u63d2\u4ef6\u7cfb\u7edf\u4f7f\u5f00\u53d1\u8005\u80fd\u591f\u901a\u8fc7\u826f\u597d\u5b9a\u4e49\u7684\u6269\u5c55\u70b9\u6269\u5c55\u8c03\u5ea6\u51b3\u7b56\u548c QoS \u7b56\u7565\u3002"),(0,n.kt)("p",null,"\u8c03\u5ea6\u5668\u63d2\u4ef6\u67b6\u6784\u901a\u8fc7 FrameworkExtender \u6a21\u5f0f\u6269\u5c55 Kubernetes \u8c03\u5ea6\u6846\u67b6\u3002QoS manager \u63d2\u4ef6\u7cfb\u7edf\u63d0\u4f9b\u57fa\u4e8e\u529f\u80fd\u95e8\u7684\u6ce8\u518c\uff0c\u7528\u4e8e\u5728\u8282\u70b9\u7ea7\u522b\u5b9e\u73b0\u81ea\u5b9a\u4e49 QoS \u7b56\u7565\u3002\u4e24\u4e2a\u7cfb\u7edf\u90fd\u9075\u5faa\u63d2\u4ef6\u6ce8\u518c\u3001\u751f\u547d\u5468\u671f\u7ba1\u7406\u548c\u7ec4\u4ef6\u96c6\u6210\u7684\u4e00\u81f4\u6a21\u5f0f\u3002"),(0,n.kt)("h2",{id:"\u8c03\u5ea6\u5668\u63d2\u4ef6\u67b6\u6784"},"\u8c03\u5ea6\u5668\u63d2\u4ef6\u67b6\u6784"),(0,n.kt)("p",null,"Koordinator \u7684\u8c03\u5ea6\u5668\u63d2\u4ef6\u901a\u8fc7 FrameworkExtender \u63a5\u53e3\u6269\u5c55 Kubernetes \u8c03\u5ea6\u6846\u67b6\uff0c\u589e\u5f3a\u57fa\u7840\u6846\u67b6\u4ee5\u652f\u6301 Koordinator \u80fd\u529b\u3002\u6269\u5c55\u5668\u6a21\u5f0f\u5141\u8bb8\u63d2\u4ef6\u8bbf\u95ee Koordinator \u8d44\u6e90\uff0c\u540c\u65f6\u53c2\u4e0e\u6807\u51c6\u8c03\u5ea6\u3002"),(0,n.kt)("p",null,"FrameworkExtender \u5173\u952e\u80fd\u529b\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u8bbf\u95ee Koordinator \u7684\u81ea\u5b9a\u4e49 clientset \u4ee5\u8fdb\u884c CRD \u4ea4\u4e92"),(0,n.kt)("li",{parentName:"ul"},"\u9884\u7559\u63d0\u540d\u548c\u6062\u590d\u5de5\u4f5c\u6d41"),(0,n.kt)("li",{parentName:"ul"},"\u81ea\u5b9a\u4e49\u9519\u8bef\u5904\u7406\u8fc7\u6ee4\u5668"),(0,n.kt)("li",{parentName:"ul"},"Pod \u9057\u5fd8\u5904\u7406\u5668\u7528\u4e8e\u6e05\u7406"),(0,n.kt)("li",{parentName:"ul"},"\u8c03\u5ea6\u8f6c\u6362\u5668\u4ee5\u4fee\u6539 pod/\u8282\u70b9\u4fe1\u606f")),(0,n.kt)("p",null,"\u63d2\u4ef6\u5728\u521d\u59cb\u5316\u671f\u95f4\u6ce8\u518c\u5e76\u5728\u7279\u5b9a\u6269\u5c55\u70b9\u88ab\u8c03\u7528\u3002FrameworkExtender \u7ba1\u7406\u63d2\u4ef6\u751f\u547d\u5468\u671f\u5e76\u534f\u8c03\u8de8\u8c03\u5ea6\u9636\u6bb5\u7684\u6267\u884c\u3002"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u7ae0\u8282\u6765\u6e90")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/pkg/scheduler/frameworkext/interface.go#L37-L55"},"interface.go"))),(0,n.kt)("h2",{id:"qos-manager-\u63d2\u4ef6\u67b6\u6784"},"QoS Manager \u63d2\u4ef6\u67b6\u6784"),(0,n.kt)("p",null,"QoS manager \u901a\u8fc7\u57fa\u4e8e\u529f\u80fd\u95e8\u7684\u6ce8\u518c\u63d0\u4f9b\u63d2\u4ef6\u7cfb\u7edf\uff0c\u7528\u4e8e\u5b9e\u73b0\u81ea\u5b9a\u4e49 QoS \u7b56\u7565\uff0c\u5141\u8bb8\u52a8\u6001\u63d2\u4ef6\u542f\u7528/\u7981\u7528\u3002"),(0,n.kt)("p",null,"\u7ec4\u4ef6\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"ExtensionPlugin \u63a5\u53e3"),"\uff1aQoS \u63d2\u4ef6\u5951\u7ea6\uff08InitFlags\u3001Setup\u3001Run \u65b9\u6cd5\uff09"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"RegisterQOSExtPlugin"),"\uff1a\u5411\u7cfb\u7edf\u6ce8\u518c\u63d2\u4ef6"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"SetupPlugins"),"\uff1a\u4f7f\u7528\u4f9d\u8d56\u9879\u521d\u59cb\u5316\u63d2\u4ef6"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"StartPlugins"),"\uff1a\u57fa\u4e8e\u529f\u80fd\u95e8\u542f\u52a8\u542f\u7528\u7684\u63d2\u4ef6")),(0,n.kt)("p",null,"\u63d2\u4ef6\u4f7f\u7528\u529f\u80fd\u95e8\u6ce8\u518c\u4ee5\u5b9e\u73b0\u52a8\u6001\u63a7\u5236\u3002QoS manager \u7f16\u6392\u63d2\u4ef6\u751f\u547d\u5468\u671f\uff0c\u786e\u4fdd\u6b63\u786e\u521d\u59cb\u5316\u548c\u542f\u52a8\u3002"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u7ae0\u8282\u6765\u6e90")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/qosmanager/framework/extension.go"},"extension.go"))),(0,n.kt)("h2",{id:"\u63d2\u4ef6\u63a5\u53e3\u8981\u6c42"},"\u63d2\u4ef6\u63a5\u53e3\u8981\u6c42"),(0,n.kt)("p",null,"Koordinator \u63d2\u4ef6\u5fc5\u987b\u6839\u636e\u7ec4\u4ef6\u548c\u529f\u80fd\u5b9e\u73b0\u7279\u5b9a\u63a5\u53e3\u3002\u8c03\u5ea6\u5668\u63d2\u4ef6\u548c QoS manager \u63d2\u4ef6\u7684\u63a5\u53e3\u8981\u6c42\u4e0d\u540c\u3002"),(0,n.kt)("h3",{id:"\u8c03\u5ea6\u5668\u63d2\u4ef6\u63a5\u53e3"},"\u8c03\u5ea6\u5668\u63d2\u4ef6\u63a5\u53e3"),(0,n.kt)("p",null,"\u8c03\u5ea6\u5668\u63d2\u4ef6\u5b9e\u73b0\u6269\u5c55 Kubernetes \u8c03\u5ea6\u6846\u67b6\u7684\u63a5\u53e3\uff0c\u5bf9\u5e94\u8c03\u5ea6\u5468\u671f\u7684\u4e0d\u540c\u9636\u6bb5\uff1a"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"\u6269\u5c55\u70b9"),(0,n.kt)("th",{parentName:"tr",align:null},"\u63a5\u53e3"),(0,n.kt)("th",{parentName:"tr",align:null},"\u7528\u9014"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"PreEnqueue")),(0,n.kt)("td",{parentName:"tr",align:null},"PreEnqueuePlugin"),(0,n.kt)("td",{parentName:"tr",align:null},"\u8c03\u5ea6\u5f00\u59cb\u524d\u7684\u65e9\u671f\u9a8c\u8bc1")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"PreFilter")),(0,n.kt)("td",{parentName:"tr",align:null},"PreFilterPlugin"),(0,n.kt)("td",{parentName:"tr",align:null},"\u9884\u5904\u7406 pod \u5e76\u521d\u59cb\u5316\u5468\u671f\u72b6\u6001")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"Filter")),(0,n.kt)("td",{parentName:"tr",align:null},"FilterPlugin"),(0,n.kt)("td",{parentName:"tr",align:null},"\u8bc4\u4f30\u8282\u70b9\u662f\u5426\u6ee1\u8db3 pod \u8981\u6c42")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"Score")),(0,n.kt)("td",{parentName:"tr",align:null},"ScorePlugin"),(0,n.kt)("td",{parentName:"tr",align:null},"\u4e3a pod \u653e\u7f6e\u5bf9\u8282\u70b9\u8fdb\u884c\u6392\u540d")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"Reserve")),(0,n.kt)("td",{parentName:"tr",align:null},"ReservePlugin"),(0,n.kt)("td",{parentName:"tr",align:null},"\u4e3a pod \u9884\u7559\u8d44\u6e90")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"PreBind")),(0,n.kt)("td",{parentName:"tr",align:null},"PreBindPlugin"),(0,n.kt)("td",{parentName:"tr",align:null},"\u7ed1\u5b9a\u524d\u7684\u6700\u7ec8\u68c0\u67e5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("strong",{parentName:"td"},"PostBind")),(0,n.kt)("td",{parentName:"tr",align:null},"PostBindPlugin"),(0,n.kt)("td",{parentName:"tr",align:null},"\u7ed1\u5b9a\u540e\u64cd\u4f5c")))),(0,n.kt)("p",null,"\u6b64\u5916\uff0cKoordinator \u5b9a\u4e49\u4e86\u7528\u4e8e\u9884\u7559\u5904\u7406\u7684\u4e13\u7528\u63a5\u53e3\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"ReservationFilterPlugin"),"\uff1a\u786e\u5b9a\u54ea\u4e9b\u9884\u7559\u53ef\u7528"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"ReservationScorePlugin"),"\uff1a\u4e3a pod \u653e\u7f6e\u5bf9\u9884\u7559\u8fdb\u884c\u6392\u540d"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"ReservationRestorePlugin"),"\uff1a\u6062\u590d\u9884\u7559\u6301\u6709\u7684\u8d44\u6e90"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"ReservationNominator"),"\uff1a\u4e3a pod \u9009\u62e9\u6700\u5408\u9002\u7684\u9884\u7559")),(0,n.kt)("h3",{id:"qos-manager-\u63d2\u4ef6\u63a5\u53e3"},"QoS Manager \u63d2\u4ef6\u63a5\u53e3"),(0,n.kt)("p",null,"QoS manager \u63d2\u4ef6\u5fc5\u987b\u5b9e\u73b0 ExtensionPlugin \u63a5\u53e3\uff0c\u5b9a\u4e49\u4ee5\u4e0b\u65b9\u6cd5\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"InitFlags"),"\uff1a\u521d\u59cb\u5316\u63d2\u4ef6\u7684\u547d\u4ee4\u884c\u6807\u5fd7"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Setup"),"\uff1a\u4f7f\u7528\u6240\u9700\u4f9d\u8d56\u9879\u8bbe\u7f6e\u63d2\u4ef6\uff08clientset\u3001metric cache\u3001states informer\uff09"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Run"),"\uff1a\u542f\u52a8\u63d2\u4ef6\u7684\u4e3b\u6267\u884c\u5faa\u73af")),(0,n.kt)("p",null,"\u63d2\u4ef6\u901a\u8fc7 RegisterQOSExtPlugin \u51fd\u6570\u6ce8\u518c\uff0c\u7531 QOSManager \u7ba1\u7406\u5176\u751f\u547d\u5468\u671f\u3002"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u7ae0\u8282\u6765\u6e90")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/qosmanager/framework/extension.go"},"extension.go")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/qosmanager/plugins/register.go"},"register.go"))),(0,n.kt)("h2",{id:"\u63d2\u4ef6\u6ce8\u518c\u673a\u5236"},"\u63d2\u4ef6\u6ce8\u518c\u673a\u5236"),(0,n.kt)("p",null,"Koordinator \u5bf9\u8c03\u5ea6\u5668\u63d2\u4ef6\u548c QoS manager \u63d2\u4ef6\u4f7f\u7528\u4e0d\u540c\u7684\u6ce8\u518c\u673a\u5236\u3002"),(0,n.kt)("h3",{id:"\u8c03\u5ea6\u5668\u63d2\u4ef6\u6ce8\u518c"},"\u8c03\u5ea6\u5668\u63d2\u4ef6\u6ce8\u518c"),(0,n.kt)("p",null,"\u8c03\u5ea6\u5668\u63d2\u4ef6\u901a\u8fc7 koord-scheduler \u7ec4\u4ef6\u7684 main.go \u6587\u4ef6\u6ce8\u518c\u3002\u6ce8\u518c\u8fc7\u7a0b\u5305\u62ec\uff1a"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u5b9a\u4e49\u63d2\u4ef6\u540d\u79f0\u5230\u5de5\u5382\u51fd\u6570\u7684\u6620\u5c04"),(0,n.kt)("li",{parentName:"ol"},"\u5c06\u63d2\u4ef6\u6620\u5c04\u5c55\u5e73\u4e3a\u8c03\u5ea6\u5668\u547d\u4ee4\u7684\u9009\u9879"),(0,n.kt)("li",{parentName:"ol"},"\u5728\u8c03\u5ea6\u5668\u521d\u59cb\u5316\u671f\u95f4\u6ce8\u518c\u63d2\u4ef6")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u8c03\u5ea6\u5668\u63d2\u4ef6\u6ce8\u518c\u6d41\u7a0b\uff1a")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"1. \u63d2\u4ef6\u6ce8\u518c (Plugin Registration)\n   \u2193\n2. \u5b9a\u4e49\u63d2\u4ef6\u6620\u5c04 (Define Plugin Map)\n   \u2193\n3. \u5c55\u5f00\u4e3a\u9009\u9879 (Flatten to Options)\n   \u2193\n4. \u5411\u8c03\u5ea6\u5668\u6ce8\u518c (Register with Scheduler)\n   \u2193\n5. \u542f\u52a8\u65f6\u521d\u59cb\u5316 (Initialize During Startup)\n   \u2193\n6. \u63d2\u4ef6\u5c31\u7eea (Plugins Ready)\n")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u56fe\u8868\u6765\u6e90")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/cmd/koord-scheduler/main.go#L43-L79"},"main.go")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/cmd/koord-scheduler/app/server.go#L357-L391"},"server.go"))),(0,n.kt)("h3",{id:"qos-manager-\u63d2\u4ef6\u6ce8\u518c"},"QoS Manager \u63d2\u4ef6\u6ce8\u518c"),(0,n.kt)("p",null,"QoS manager \u63d2\u4ef6\u901a\u8fc7\u57fa\u4e8e\u529f\u80fd\u95e8\u7684\u7cfb\u7edf\u6ce8\u518c\uff0c\u5141\u8bb8\u52a8\u6001\u542f\u7528\u548c\u7981\u7528\u3002\u6ce8\u518c\u8fc7\u7a0b\u5305\u62ec\uff1a"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u4f7f\u7528\u63d2\u4ef6\u5b9e\u73b0\u8c03\u7528 RegisterQOSExtPlugin"),(0,n.kt)("li",{parentName:"ol"},"\u914d\u7f6e\u529f\u80fd\u95e8\u4ee5\u542f\u7528/\u7981\u7528\u7279\u5b9a\u63d2\u4ef6"),(0,n.kt)("li",{parentName:"ol"},"\u5728 koordlet \u542f\u52a8\u671f\u95f4\u521d\u59cb\u5316\u63d2\u4ef6"),(0,n.kt)("li",{parentName:"ol"},"\u6839\u636e\u914d\u7f6e\u542f\u52a8\u542f\u7528\u7684\u63d2\u4ef6")),(0,n.kt)("p",null,"\u6ce8\u518c\u7cfb\u7edf\u4f7f\u7528\u5168\u5c40\u6ce8\u518c\u8868\u5b58\u50a8\u63d2\u4ef6\u5b9e\u73b0\uff0c\u5e76\u901a\u8fc7 QOSManager \u7ec4\u4ef6\u7ba1\u7406\u5176\u751f\u547d\u5468\u671f\u3002"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u7ae0\u8282\u6765\u6e90")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/qosmanager/plugins/register.go"},"register.go")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/qosmanager/framework/extension.go"},"extension.go"))),(0,n.kt)("h2",{id:"\u8c03\u5ea6\u5668\u63d2\u4ef6\u5b9e\u73b0\u793a\u4f8b"},"\u8c03\u5ea6\u5668\u63d2\u4ef6\u5b9e\u73b0\u793a\u4f8b"),(0,n.kt)("p",null,"\u5728 Koordinator \u4e2d\u521b\u5efa\u81ea\u5b9a\u4e49\u8c03\u5ea6\u5668\u63d2\u4ef6\u9075\u5faa\u6807\u51c6\u6a21\u5f0f\uff0c\u786e\u4fdd\u4e0e\u73b0\u6709\u8c03\u5ea6\u57fa\u7840\u8bbe\u65bd\u517c\u5bb9\u3002"),(0,n.kt)("h3",{id:"\u63d2\u4ef6\u7ed3\u6784"},"\u63d2\u4ef6\u7ed3\u6784"),(0,n.kt)("p",null,"\u5178\u578b\u7684 Koordinator \u8c03\u5ea6\u5668\u63d2\u4ef6\u9075\u5faa\u6b64\u7ed3\u6784\uff1a"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-go"},'type Plugin struct {\n    handle framework.Handle\n    // \u63d2\u4ef6\u7279\u5b9a\u5b57\u6bb5\n}\n\nfunc New(args runtime.Object, handle framework.Handle) (framework.Plugin, error) {\n    // \u4f7f\u7528\u914d\u7f6e\u548c handle \u521d\u59cb\u5316\u63d2\u4ef6\n}\n\nfunc (p *Plugin) Name() string {\n    return "PluginName"\n}\n\n// \u5b9e\u73b0\u8c03\u5ea6\u5468\u671f\u63a5\u53e3\nfunc (p *Plugin) PreFilter(...) {...}\nfunc (p *Plugin) Filter(...) {...}\nfunc (p *Plugin) Score(...) {...}\nfunc (p *Plugin) Reserve(...) {...}\n')),(0,n.kt)("h3",{id:"\u72b6\u6001\u7ba1\u7406"},"\u72b6\u6001\u7ba1\u7406"),(0,n.kt)("p",null,"\u63d2\u4ef6\u4f7f\u7528\u5468\u671f\u72b6\u6001\u5728\u4e0d\u540c\u8c03\u5ea6\u9636\u6bb5\u4e4b\u95f4\u7ef4\u62a4\u6570\u636e\u3002\u5468\u671f\u72b6\u6001\u662f\u7ebf\u7a0b\u5b89\u5168\u7684\u5b58\u50a8\u673a\u5236\uff0c\u5141\u8bb8\u63d2\u4ef6\u5171\u4eab\u4fe1\u606f\u3002"),(0,n.kt)("p",null,"\u6700\u4f73\u5b9e\u8df5\u5305\u62ec\u4f7f\u7528\u552f\u4e00\u952e\u3001\u5b9e\u65bd\u9002\u5f53\u7684\u540c\u6b65\u3001\u5728\u9002\u5f53\u7684\u9636\u6bb5\u6e05\u7406\u72b6\u6001\u4ee5\u53ca\u5728\u5fc5\u8981\u65f6\u514b\u9686\u72b6\u6001\u4ee5\u9632\u6b62\u610f\u5916\u4fee\u6539\u3002"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u7ae0\u8282\u6765\u6e90")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/pkg/scheduler/plugins/loadaware/load_aware.go#L71-L79"},"load_aware.go")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/pkg/scheduler/plugins/elasticquota/plugin.go#L74-L93"},"elasticquota/plugin.go"))),(0,n.kt)("h2",{id:"qos-manager-\u63d2\u4ef6\u5b9e\u73b0\u793a\u4f8b"},"QoS Manager \u63d2\u4ef6\u5b9e\u73b0\u793a\u4f8b"),(0,n.kt)("p",null,"\u521b\u5efa\u81ea\u5b9a\u4e49 QoS manager \u63d2\u4ef6\u9700\u8981\u5b9e\u73b0 ExtensionPlugin \u63a5\u53e3\u5e76\u5411 QoS manager \u7cfb\u7edf\u6ce8\u518c\u63d2\u4ef6\u3002"),(0,n.kt)("p",null,"QoS manager \u63d2\u4ef6\u5fc5\u987b\u5b9e\u73b0 ExtensionPlugin \u63a5\u53e3\uff0c\u5305\u542b\u4ee5\u4e0b\u65b9\u6cd5\uff1a"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-go"},"type ExtensionPlugin interface {\n    InitFlags(fs *flag.FlagSet)\n    Setup(client clientset.Interface, metricCache metriccache.MetricCache, statesInformer statesinformer.StatesInformer)\n    Run(stopCh <-chan struct{})\n}\n")),(0,n.kt)("p",null,"\u6bcf\u4e2a\u65b9\u6cd5\u5728\u63d2\u4ef6\u751f\u547d\u5468\u671f\u4e2d\u90fd\u6709\u7279\u5b9a\u76ee\u7684\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"InitFlags"),"\uff1a\u6ce8\u518c\u63d2\u4ef6\u7279\u5b9a\u7684\u547d\u4ee4\u884c\u6807\u5fd7"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Setup"),"\uff1a\u4f7f\u7528 koordlet \u7684\u4f9d\u8d56\u9879\u521d\u59cb\u5316\u63d2\u4ef6"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Run"),"\uff1a\u5728 goroutine \u4e2d\u6267\u884c\u63d2\u4ef6\u7684\u4e3b\u903b\u8f91")),(0,n.kt)("p",null,"\u63d2\u4ef6\u901a\u8fc7 RegisterQOSExtPlugin \u51fd\u6570\u6ce8\u518c\uff0c\u8be5\u51fd\u6570\u5c06\u63d2\u4ef6\u6dfb\u52a0\u5230\u5168\u5c40\u6ce8\u518c\u8868\u3002\u63d2\u4ef6\u901a\u8fc7 koordlet \u914d\u7f6e\u4e2d\u7684\u529f\u80fd\u95e8\u542f\u7528\u6216\u7981\u7528\u3002"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u7ae0\u8282\u6765\u6e90")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/qosmanager/framework/extension.go"},"extension.go")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/qosmanager/plugins/register.go"},"register.go"))),(0,n.kt)("h2",{id:"\u5f00\u53d1\u5de5\u4f5c\u6d41"},"\u5f00\u53d1\u5de5\u4f5c\u6d41"),(0,n.kt)("p",null,"\u5728 Koordinator \u4e2d\u521b\u5efa\u81ea\u5b9a\u4e49\u63d2\u4ef6\u7684\u5b8c\u6574\u5f00\u53d1\u5de5\u4f5c\u6d41\u4ece\u521b\u5efa\u5230\u90e8\u7f72\u5305\u542b\u591a\u4e2a\u9636\u6bb5\u3002"),(0,n.kt)("h3",{id:"\u63d2\u4ef6\u521b\u5efa"},"\u63d2\u4ef6\u521b\u5efa"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u5b9a\u4e49\u63d2\u4ef6\u7ed3\u6784"),"\uff1a\u521b\u5efa\u4fdd\u5b58\u63d2\u4ef6\u72b6\u6001\u548c\u4f9d\u8d56\u9879\u7684\u7ed3\u6784"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u5b9e\u73b0\u6240\u9700\u63a5\u53e3"),"\uff1a\u4e3a\u63d2\u4ef6\u7c7b\u578b\u5b9e\u73b0\u9002\u5f53\u7684\u63a5\u53e3"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u521b\u5efa\u5de5\u5382\u51fd\u6570"),"\uff1a\u5b9e\u73b0\u521d\u59cb\u5316\u63d2\u4ef6\u7684 New \u51fd\u6570"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u6ce8\u518c\u63d2\u4ef6"),"\uff1a\u5c06\u63d2\u4ef6\u6dfb\u52a0\u5230\u9002\u5f53\u7684\u6ce8\u518c\u7cfb\u7edf")),(0,n.kt)("h3",{id:"\u6d4b\u8bd5"},"\u6d4b\u8bd5"),(0,n.kt)("p",null,"Koordinator \u4e3a\u8c03\u5ea6\u5668\u548c QoS manager \u63d2\u4ef6\u63d0\u4f9b\u5168\u9762\u7684\u6d4b\u8bd5\u5de5\u5177\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u5355\u4e2a\u63d2\u4ef6\u65b9\u6cd5\u7684\u5355\u5143\u6d4b\u8bd5"),(0,n.kt)("li",{parentName:"ul"},"\u5b8c\u6574\u8c03\u5ea6\u5468\u671f\u7684\u96c6\u6210\u6d4b\u8bd5"),(0,n.kt)("li",{parentName:"ul"},"\u5b8c\u6574\u5de5\u4f5c\u6d41\u7684\u7aef\u5230\u7aef\u6d4b\u8bd5"),(0,n.kt)("li",{parentName:"ul"},"\u6027\u80fd\u8bc4\u4f30\u7684\u57fa\u51c6\u6d4b\u8bd5")),(0,n.kt)("h3",{id:"\u90e8\u7f72"},"\u90e8\u7f72"),(0,n.kt)("p",null,"\u63d2\u4ef6\u4f5c\u4e3a koord-scheduler \u6216 koordlet \u7ec4\u4ef6\u7684\u4e00\u90e8\u5206\u90e8\u7f72\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u8c03\u5ea6\u5668\u63d2\u4ef6\u5305\u542b\u5728 koord-scheduler \u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d"),(0,n.kt)("li",{parentName:"ul"},"QoS manager \u63d2\u4ef6\u5305\u542b\u5728 koordlet \u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d"),(0,n.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u7ec4\u4ef6\u914d\u7f6e\u6587\u4ef6\u7ba1\u7406\u914d\u7f6e"),(0,n.kt)("li",{parentName:"ul"},"\u529f\u80fd\u95e8\u63a7\u5236\u63d2\u4ef6\u542f\u7528")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u7ae0\u8282\u6765\u6e90")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/cmd/koord-scheduler/main.go#L43-L79"},"main.go")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/cmd/koord-scheduler/app/server.go#L419-L489"},"server.go"))),(0,n.kt)("h2",{id:"\u751f\u547d\u5468\u671f\u65b9\u6cd5\u4e0e\u56de\u8c03\u673a\u5236"},"\u751f\u547d\u5468\u671f\u65b9\u6cd5\u4e0e\u56de\u8c03\u673a\u5236"),(0,n.kt)("p",null,"Koordinator \u63d2\u4ef6\u5177\u6709\u826f\u597d\u5b9a\u4e49\u7684\u751f\u547d\u5468\u671f\u65b9\u6cd5\u548c\u56de\u8c03\u673a\u5236\uff0c\u4f7f\u5b83\u4eec\u80fd\u591f\u53c2\u4e0e\u7cfb\u7edf\u64cd\u4f5c\u7684\u5404\u4e2a\u9636\u6bb5\u3002"),(0,n.kt)("h3",{id:"\u8c03\u5ea6\u5668\u63d2\u4ef6\u751f\u547d\u5468\u671f"},"\u8c03\u5ea6\u5668\u63d2\u4ef6\u751f\u547d\u5468\u671f"),(0,n.kt)("p",null,"\u8c03\u5ea6\u5668\u63d2\u4ef6\u901a\u8fc7\u6269\u5c55\u70b9\u56de\u8c03\u53c2\u4e0e\u8c03\u5ea6\u5468\u671f\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"PreEnqueue"),"\uff1a\u5728\u8c03\u5ea6\u8fc7\u7a0b\u65e9\u671f\u8c03\u7528\u4ee5\u8fdb\u884c\u9a8c\u8bc1"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"PreFilter"),"\uff1a\u8c03\u7528\u4ee5\u9884\u5904\u7406 pod \u4fe1\u606f\u5e76\u521d\u59cb\u5316\u72b6\u6001"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Filter"),"\uff1a\u8c03\u7528\u4ee5\u8bc4\u4f30\u8282\u70b9\u662f\u5426\u6ee1\u8db3 pod \u8981\u6c42"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Score"),"\uff1a\u8c03\u7528\u4ee5\u5bf9\u9002\u5408\u7684\u8282\u70b9\u8fdb\u884c\u6392\u540d\u4ee5\u653e\u7f6e pod"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Reserve"),"\uff1a\u8c03\u7528\u4ee5\u5728\u9009\u5b9a\u8282\u70b9\u4e0a\u4e34\u65f6\u9884\u7559\u8d44\u6e90"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"PreBind"),"\uff1a\u8c03\u7528\u4ee5\u5728\u7ed1\u5b9a\u524d\u8fdb\u884c\u6700\u7ec8\u9a8c\u8bc1"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"PostBind"),"\uff1a\u8c03\u7528\u4ee5\u8fdb\u884c\u7ed1\u5b9a\u540e\u64cd\u4f5c\u548c\u6e05\u7406")),(0,n.kt)("h3",{id:"qos-manager-\u63d2\u4ef6\u751f\u547d\u5468\u671f"},"QoS Manager \u63d2\u4ef6\u751f\u547d\u5468\u671f"),(0,n.kt)("p",null,"QoS manager \u63d2\u4ef6\u9075\u5faa\u4e0d\u540c\u7684\u751f\u547d\u5468\u671f\u6a21\u5f0f\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"InitFlags"),"\uff1a\u5728 koordlet \u542f\u52a8\u671f\u95f4\u8c03\u7528\u4ee5\u6ce8\u518c\u547d\u4ee4\u884c\u6807\u5fd7"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Setup"),"\uff1a\u8c03\u7528\u4ee5\u4f7f\u7528\u4f9d\u8d56\u9879\u521d\u59cb\u5316\u63d2\u4ef6"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Run"),"\uff1a\u8c03\u7528\u4ee5\u542f\u52a8\u63d2\u4ef6\u7684\u4e3b\u6267\u884c\u5faa\u73af"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Stop"),"\uff1a\u5728\u5173\u95ed\u671f\u95f4\u8c03\u7528\u4ee5\u6e05\u7406\u8d44\u6e90")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u7ae0\u8282\u6765\u6e90")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/pkg/scheduler/frameworkext/interface.go#L37-L55"},"interface.go")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/qosmanager/framework/extension.go"},"extension.go"))),(0,n.kt)("h2",{id:"\u5e38\u89c1\u9677\u9631\u4e0e\u8c03\u8bd5\u7b56\u7565"},"\u5e38\u89c1\u9677\u9631\u4e0e\u8c03\u8bd5\u7b56\u7565"),(0,n.kt)("p",null,"\u4e3a Koordinator \u5f00\u53d1\u63d2\u4ef6\u9700\u8981\u6ce8\u610f\u5e38\u89c1\u9677\u9631\u548c\u6709\u6548\u7684\u8c03\u8bd5\u7b56\u7565\uff0c\u4ee5\u786e\u4fdd\u53ef\u9760\u548c\u9ad8\u6027\u80fd\u7684\u64cd\u4f5c\u3002"),(0,n.kt)("h3",{id:"\u5e38\u89c1\u5f00\u53d1\u9677\u9631"},"\u5e38\u89c1\u5f00\u53d1\u9677\u9631"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u72b6\u6001\u7ba1\u7406\u95ee\u9898"),"\uff1a\u4e0d\u5f53\u7684\u72b6\u6001\u7ba1\u7406\u53ef\u80fd\u5bfc\u81f4\u7ade\u6001\u6761\u4ef6\u548c\u5185\u5b58\u6cc4\u6f0f"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u9519\u8bef\u5904\u7406"),"\uff1a\u4e0d\u5145\u5206\u7684\u9519\u8bef\u5904\u7406\u53ef\u80fd\u5bfc\u81f4\u8c03\u5ea6\u5668\u4e2d\u7684\u9759\u9ed8\u5931\u8d25"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u8d44\u6e90\u6cc4\u6f0f"),"\uff1a\u672a\u80fd\u6e05\u7406\u8d44\u6e90\u53ef\u80fd\u5bfc\u81f4\u5185\u5b58\u8017\u5c3d"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u7ebf\u7a0b\u5b89\u5168"),"\uff1a\u5728\u6ca1\u6709\u9002\u5f53\u540c\u6b65\u7684\u60c5\u51b5\u4e0b\u5e76\u53d1\u8bbf\u95ee\u5171\u4eab\u6570\u636e\u7ed3\u6784"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u914d\u7f6e\u9a8c\u8bc1"),"\uff1a\u63d2\u4ef6\u914d\u7f6e\u53c2\u6570\u7684\u9a8c\u8bc1\u4e0d\u8db3")),(0,n.kt)("h3",{id:"\u8c03\u8bd5\u7b56\u7565"},"\u8c03\u8bd5\u7b56\u7565"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u65e5\u5fd7\u8bb0\u5f55"),"\uff1a\u5728\u5f00\u53d1\u671f\u95f4\u4e3a\u7279\u5b9a\u63d2\u4ef6\u542f\u7528\u8be6\u7ec6\u65e5\u5fd7\u8bb0\u5f55"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u6307\u6807"),"\uff1a\u76d1\u63a7 Prometheus \u6307\u6807\u4ee5\u8bc6\u522b\u6027\u80fd\u74f6\u9888"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u8bca\u65ad\u4fe1\u606f"),"\uff1a\u5206\u6790 PostFilter \u4e2d\u7684\u5931\u8d25\u539f\u56e0\u4ee5\u4e86\u89e3\u8c03\u5ea6\u62d2\u7edd"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u4e8b\u4ef6\u8ddf\u8e2a"),"\uff1a\u4f7f\u7528\u4e8b\u4ef6\u8ddf\u8e2a\u4e86\u89e3\u63d2\u4ef6\u6267\u884c\u5e8f\u5217"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u5355\u5143\u6d4b\u8bd5"),"\uff1a\u4e3a\u6240\u6709\u63d2\u4ef6\u65b9\u6cd5\u7f16\u5199\u5168\u9762\u7684\u5355\u5143\u6d4b\u8bd5"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u96c6\u6210\u6d4b\u8bd5"),"\uff1a\u5728\u6a21\u62df\u751f\u4ea7\u5de5\u4f5c\u8d1f\u8f7d\u7684\u96c6\u6210\u73af\u5883\u4e2d\u6d4b\u8bd5\u63d2\u4ef6")),(0,n.kt)("p",null,"\u6700\u4f73\u8c03\u8bd5\u5b9e\u8df5\u5305\u62ec\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u4f7f\u7528\u5468\u671f\u72b6\u6001\u5b58\u50a8\u8c03\u8bd5\u4fe1\u606f"),(0,n.kt)("li",{parentName:"ul"},"\u5728\u4e0d\u540c\u8be6\u7ec6\u7ea7\u522b\u5b9e\u65bd\u5168\u9762\u65e5\u5fd7\u8bb0\u5f55"),(0,n.kt)("li",{parentName:"ul"},"\u76d1\u63a7\u63d2\u4ef6\u7279\u5b9a\u6307\u6807\u4ee5\u8fdb\u884c\u6027\u80fd\u5206\u6790"),(0,n.kt)("li",{parentName:"ul"},"\u4f7f\u7528\u6846\u67b6\u7684\u5185\u7f6e\u8c03\u8bd5\u5de5\u5177\u548c\u5b9e\u7528\u7a0b\u5e8f"),(0,n.kt)("li",{parentName:"ul"},"\u5f7b\u5e95\u6d4b\u8bd5\u8fb9\u7f18\u60c5\u51b5\u548c\u5931\u8d25\u573a\u666f")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u7ae0\u8282\u6765\u6e90")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/pkg/scheduler/plugins/reservation/plugin.go"},"plugin.go")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/pkg/scheduler/plugins/loadaware/load_aware.go"},"load_aware.go")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/koordinator-sh/koordinator/tree/main/pkg/scheduler/plugins/elasticquota/plugin.go"},"elasticquota/plugin.go"))))}g.isMDXComponent=!0}}]);