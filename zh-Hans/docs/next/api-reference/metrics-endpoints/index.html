<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-api-reference/metrics-endpoints">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Metrics Endpoints | Koordinator</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://koordinator.sh/zh-Hans/docs/next/api-reference/metrics-endpoints"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Metrics Endpoints | Koordinator"><meta data-rh="true" name="description" content="This document is generated with assistance from Qoder AI."><meta data-rh="true" property="og:description" content="This document is generated with assistance from Qoder AI."><link data-rh="true" rel="icon" href="/zh-Hans/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://koordinator.sh/zh-Hans/docs/next/api-reference/metrics-endpoints"><link data-rh="true" rel="alternate" href="https://koordinator.sh/docs/next/api-reference/metrics-endpoints" hreflang="en"><link data-rh="true" rel="alternate" href="https://koordinator.sh/zh-Hans/docs/next/api-reference/metrics-endpoints" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://koordinator.sh/docs/next/api-reference/metrics-endpoints" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://FKASWWQYOP-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/zh-Hans/blog/rss.xml" title="Koordinator RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-Hans/blog/atom.xml" title="Koordinator Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Koordinator" href="/zh-Hans/opensearch.xml"><link rel="stylesheet" href="/zh-Hans/assets/css/styles.d55f2266.css">
<link rel="preload" href="/zh-Hans/assets/js/runtime~main.d8ad5ec2.js" as="script">
<link rel="preload" href="/zh-Hans/assets/js/main.f70d54d3.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️ If you like Koordinator, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/koordinator-sh/koordinator">GitHub</a>! ⭐️</div><button type="button" aria-label="关闭" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-Hans/"><div class="navbar__logo"><img src="/zh-Hans/img/logo.svg" alt="Koordinator" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zh-Hans/img/logo.svg" alt="Koordinator" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Koordinator</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-Hans/docs">文档</a><a class="navbar__item navbar__link" href="/zh-Hans/blog">博客</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/zh-Hans/docs/next/">v1.7 🚧</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/zh-Hans/docs/next/api-reference/metrics-endpoints">v1.7 🚧</a></li><li><a class="dropdown__link" href="/zh-Hans/docs/">v1.6</a></li><li><a class="dropdown__link" href="/zh-Hans/docs/v1.5/">v1.5</a></li><li><a class="dropdown__link" href="/zh-Hans/docs/v1.4/">v1.4</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/docs/next/api-reference/metrics-endpoints" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh-Hans/docs/next/api-reference/metrics-endpoints" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-Hans">简体中文</a></li></ul></div><a href="https://github.com/koordinator-sh/koordinator" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/zh-Hans/docs/next/">快速开始</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/next/">简介</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/next/installation">安装</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/zh-Hans/docs/next/architecture/overview">架构</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/next/architecture/overview">概述</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/next/architecture/resource-model">资源模型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/next/architecture/priority">优先级</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/next/architecture/qos">QoS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/next/architecture/job">Job</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/next/architecture/device">Device</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-Hans/docs/next/user-manuals/gang-scheduling">用户手册</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-Hans/docs/next/designs/koordlet-overview">设计</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-Hans/docs/next/best-practices/batch-colocation-quick-start">API参考</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-Hans/docs/next/developer-guide/component-guide">Developer Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/zh-Hans/docs/next/api-reference/custom-resource-definitions">API Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/next/api-reference/custom-resource-definitions">Custom Resource Definitions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/next/api-reference/client-libraries">Client Libraries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh-Hans/docs/next/api-reference/metrics-endpoints">Metrics Endpoints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/next/api-reference/webhook-endpoints">Webhook Endpoints</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>此为 <!-- -->Koordinator<!-- --> <b>v1.7 🚧</b> 版尚未发行的文档。</div><div class="margin-top--md">最新的文档请参阅 <b><a href="/zh-Hans/docs/">最新版本</a></b> (<!-- -->v1.6<!-- -->)。</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh-Hans/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">API Reference</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Metrics Endpoints</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">版本：v1.7 🚧</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>Metrics Endpoints</h1><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>文档说明</div><div class="admonitionContent_S0QG"><p>This document is generated with assistance from Qoder AI.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>Koordinator exposes comprehensive Prometheus metrics through its various components to enable monitoring, observability, and performance analysis of the system. Each component (koord-manager, koord-scheduler, koordlet, and koord-descheduler) provides a /metrics HTTP endpoint that exports metrics in Prometheus format. These metrics cover various aspects of the system including scheduling performance, resource utilization, pod eviction statistics, and QoS enforcement. The metrics endpoints are secured and configured according to the component&#x27;s deployment configuration, with specific port numbers and security requirements. This documentation provides a comprehensive overview of all exported metrics, their semantic meaning, and guidance on configuring and using these metrics for monitoring and alerting.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="component-metrics-endpoints">Component Metrics Endpoints<a href="#component-metrics-endpoints" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>Each Koordinator component exposes metrics through a dedicated HTTP endpoint with specific port configurations and security settings. The metrics endpoints follow the standard Prometheus exposition format and are accessible via the /metrics path.</p><div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">graph TD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A[Koord-manager] --&gt; B[/metrics&lt;br/&gt;Port: 8080]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C[Koord-scheduler] --&gt; D[/metrics&lt;br/&gt;Port: 10251]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">E[Koordlet] --&gt; F[/metrics&lt;br/&gt;Port: 9808]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">G[Koord-descheduler] --&gt; H[/metrics&lt;br/&gt;Port: 10260]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">B --&gt; I[Metrics Collection]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">D --&gt; I</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">F --&gt; I</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">H --&gt; I</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I --&gt; J[Prometheus Server]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Diagram sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/config/manager/manager.yaml" target="_blank" rel="noopener noreferrer">manager.yaml</a></li><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/config/manager/scheduler.yaml" target="_blank" rel="noopener noreferrer">scheduler.yaml</a></li><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/config/manager/descheduler.yaml" target="_blank" rel="noopener noreferrer">descheduler.yaml</a></li></ul><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/config/manager/manager.yaml" target="_blank" rel="noopener noreferrer">manager.yaml</a></li><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/config/manager/scheduler.yaml" target="_blank" rel="noopener noreferrer">scheduler.yaml</a></li><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/config/manager/descheduler.yaml" target="_blank" rel="noopener noreferrer">descheduler.yaml</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="koordlet-metrics">Koordlet Metrics<a href="#koordlet-metrics" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>The koordlet component, running as a daemon on each node, exposes detailed metrics about node resource utilization, container performance, and system-level observations. These metrics are crucial for understanding the actual resource consumption and performance characteristics of workloads.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resource-utilization-metrics">Resource Utilization Metrics<a href="#resource-utilization-metrics" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>Koordlet collects and exposes various resource utilization metrics at both node and container levels, including CPU, memory, and specialized metrics like PSI (Pressure Stall Information).</p><div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">classDiagram</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class NodeResourceAllocatable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string resource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string unit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;the node allocatable of resources updated by koordinator&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ContainerResourceRequests {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string resource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string unit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string pod_uid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string pod_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string pod_namespace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string container_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string container_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;the container requests of resources updated by koordinator&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class NodePredictedResourceReclaimable {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string predictor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string resource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string unit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;the node reclaimable resources predicted by koordinator&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NodeResourceAllocatable --&gt; ContainerResourceRequests : &quot;contains&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NodeResourceAllocatable --&gt; NodePredictedResourceReclaimable : &quot;relates to&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Diagram sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/metrics/resource_summary.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/metrics/prediction.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li></ul><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-and-qos-metrics">Performance and QoS Metrics<a href="#performance-and-qos-metrics" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>Koordlet exposes specialized metrics for performance monitoring and QoS enforcement, including CPU burst, core scheduling, and PSI metrics that help identify resource contention and performance bottlenecks.</p><div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">classDiagram</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ContainerScaledCFSBurstUS {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string pod_namespace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string pod_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string container_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string container_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;The maximum accumulated run-time(in microseconds) in container-level set by koordlet&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ContainerPSI {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string container_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string container_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string pod_uid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string pod_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string pod_namespace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string psi_resource_type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string psi_precision</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string psi_degree</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string cpu_full_supported</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;Container psi collected by koordlet&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ContainerCoreSchedCookie {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string pod_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string pod_namespace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string pod_uid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string container_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string container_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string core_sched_group</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string core_sched_cookie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;the core scheduling cookie of the container&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ContainerScaledCFSBurstUS --&gt; ContainerPSI : &quot;correlates with&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ContainerScaledCFSBurstUS --&gt; ContainerCoreSchedCookie : &quot;influences&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Diagram sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/metrics/cpu_burst.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/metrics/psi.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/metrics/core_sched.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li></ul><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="koord-scheduler-metrics">Koord-scheduler Metrics<a href="#koord-scheduler-metrics" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>The koord-scheduler component extends the Kubernetes scheduler with additional scheduling capabilities and exposes metrics related to scheduling performance, reservation management, and plugin execution.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="scheduling-performance-metrics">Scheduling Performance Metrics<a href="#scheduling-performance-metrics" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>Koord-scheduler provides detailed metrics about the scheduling process, including latency, node evaluation statistics, and timeout information.</p><div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">classDiagram</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class PodSchedulingEvaluatedNodes {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;The number of nodes the scheduler evaluated the pod against in the filtering phase and beyond when find the suggested node&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+buckets exponential(1,2,24)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class PodSchedulingFeasibleNodes {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;The number of of nodes out of the evaluated ones that fit the pod when find the suggested node&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+buckets exponential(1,2,24)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class SchedulingTimeout {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string profile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;The currently scheduled Pod exceeds the maximum acceptable time interval&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ElasticQuotaProcessLatency {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string operation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;elastic quota process latency in second&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+buckets exponential(0.00001,2,24)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PodSchedulingEvaluatedNodes --&gt; PodSchedulingFeasibleNodes : &quot;subset of&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SchedulingTimeout --&gt; ElasticQuotaProcessLatency : &quot;related to&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Diagram sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/scheduler/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li></ul><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/scheduler/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reservation-and-quota-metrics">Reservation and Quota Metrics<a href="#reservation-and-quota-metrics" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>The scheduler exposes metrics related to resource reservations and elastic quotas, which are essential for understanding resource allocation and utilization patterns.</p><div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">classDiagram</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ReservationStatusPhase {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string phase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;The current number of reservations in each status phase (e.g. Pending, Available, Succeeded, Failed)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ReservationResource {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string resource</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string unit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;Resource metrics for a reservation, including allocatable, allocated, and utilization with unit.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class WaitingGangGroupNumber {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;The number of GangGroups in Waiting&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ReservationStatusPhase --&gt; ReservationResource : &quot;contains&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ReservationStatusPhase --&gt; WaitingGangGroupNumber : &quot;affects&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Diagram sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/scheduler/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li></ul><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/scheduler/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="koord-descheduler-metrics">Koord-descheduler Metrics<a href="#koord-descheduler-metrics" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>The koord-descheduler component is responsible for evicting pods to improve resource utilization and balance across the cluster. It exposes metrics about eviction activities and their outcomes.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pod-eviction-metrics">Pod Eviction Metrics<a href="#pod-eviction-metrics" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>The descheduler tracks all pod eviction activities, including successful evictions, failed attempts, and the strategies that triggered the evictions.</p><div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">classDiagram</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class PodsEvicted {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string strategy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string namespace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;Number of evicted pods, by the result, by the strategy, by the namespace, by the node name. &#x27;error&#x27; result means a pod could not be evicted&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class SecondaryDeviceNotWellPlannedNodes {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string node_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;The number of secondary device not well planned&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PodsEvicted --&gt; SecondaryDeviceNotWellPlannedNodes : &quot;correlates with&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Diagram sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/descheduler/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li></ul><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/descheduler/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="koord-manager-metrics">Koord-manager Metrics<a href="#koord-manager-metrics" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>The koord-manager component serves as the control plane for Koordinator, managing various controllers and webhook configurations. It exposes metrics related to SLO (Service Level Objective) enforcement and controller operations.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="slo-controller-metrics">SLO Controller Metrics<a href="#slo-controller-metrics" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>The SLO controller within koord-manager tracks various reconciliation activities and resource management operations.</p><div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">classDiagram</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class NodeMetricReconcileCount {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string reason</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;The count of node metric reconciliations&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class NodeResourceReconcileCount {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string reason</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;The count of node resource reconciliations&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class NodeSLOReconcileCount {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string node</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+string reason</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+float64 value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+help &quot;The count of node SLO reconciliations&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NodeMetricReconcileCount --&gt; NodeResourceReconcileCount : &quot;occurs with&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NodeResourceReconcileCount --&gt; NodeSLOReconcileCount : &quot;leads to&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Diagram sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/slo-controller/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li></ul><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/slo-controller/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metrics-collection-and-configuration">Metrics Collection and Configuration<a href="#metrics-collection-and-configuration" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>Koordlet includes a built-in metric cache system that collects, stores, and exposes metrics with configurable retention and collection intervals. This system uses TSDB (Time Series Database) storage for efficient time-series data management.</p><div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">flowchart TD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A[Metric Collection] --&gt; B[In-Memory Buffer]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">B --&gt; C{TSDB Storage}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C --&gt; D[Data Persistence]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">C --&gt; E[Prometheus Export]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">F[Configuration] --&gt; G[MetricGCIntervalSeconds]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">F --&gt; H[MetricExpireSeconds]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">F --&gt; I[TSDBRetentionDuration]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">G --&gt; C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">H --&gt; C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I --&gt; C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">J[Prometheus] --&gt; E</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Diagram sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/metriccache/config.go" target="_blank" rel="noopener noreferrer">config.go</a></li></ul><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/metriccache/config.go" target="_blank" rel="noopener noreferrer">config.go</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-parameters">Configuration Parameters<a href="#configuration-parameters" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>The metric collection system can be configured with various parameters to control the behavior of metric collection, storage, and garbage collection.</p><table><thead><tr><th>Parameter</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td>MetricGCIntervalSeconds</td><td>300</td><td>Interval in seconds for collecting expired metrics</td></tr><tr><td>MetricExpireSeconds</td><td>1800</td><td>Duration in seconds after which metrics expire</td></tr><tr><td>TSDBPath</td><td>/metric-data/</td><td>Base path for metric data storage</td></tr><tr><td>TSDBRetentionDuration</td><td>12h</td><td>Duration of persisted data to keep</td></tr><tr><td>TSDBEnablePromMetrics</td><td>true</td><td>Enable Prometheus metrics for TSDB</td></tr></tbody></table><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/metriccache/config.go" target="_blank" rel="noopener noreferrer">config.go</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prometheus-queries-and-alerting">Prometheus Queries and Alerting<a href="#prometheus-queries-and-alerting" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>Effective monitoring of Koordinator requires well-crafted Prometheus queries and alerting rules to detect and respond to potential issues in the system.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-prometheus-queries">Key Prometheus Queries<a href="#key-prometheus-queries" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>The following queries are essential for monitoring the health and performance of Koordinator components:</p><div class="language-promql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-promql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Scheduling latency by percentile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">histogram_quantile(0.95, sum(rate(koord_scheduler_pod_scheduling_evaluated_nodes_bucket[5m])) by (le))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Pod eviction rate by strategy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sum by (strategy) (rate(koord_descheduler_pods_evicted_total[5m]))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Node resource utilization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">koordlet_node_resource_allocatable{resource=&quot;cpu&quot;, unit=&quot;core&quot;} - koordlet_node_resource_used{resource=&quot;cpu&quot;, unit=&quot;core&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># QoS violation rate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sum(koordlet_container_psi{psi_degree=&quot;full&quot;, psi_precision=&quot;avg10&quot;}) by (node) / count(koordlet_container_psi) by (node)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/scheduler/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/descheduler/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="alerting-rules">Alerting Rules<a href="#alerting-rules" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>The following alerting rules can be configured to proactively detect issues in the Koordinator system:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># High scheduling latency</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">alert</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> HighSchedulingLatency</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">expr</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> histogram_quantile(0.95</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sum(rate(koord_scheduler_pod_scheduling_evaluated_nodes_bucket</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">5m</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">)) by (le)) </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">for</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 5m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">severity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> warning</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">summary</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;High scheduling latency detected&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;The 95th percentile scheduling latency is above 10 seconds&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># High pod eviction rate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">alert</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> HighPodEvictionRate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">expr</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> sum(rate(koord_descheduler_pods_evicted_total</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">5m</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">)) </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">for</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 10m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">severity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> warning</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">summary</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;High pod eviction rate detected&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;The pod eviction rate is above 10 evictions per minute&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Node resource exhaustion</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">alert</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> NodeResourceExhaustion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">expr</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> (koordlet_node_resource_allocatable</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">resource=&quot;memory&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> unit=&quot;byte&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> koordlet_node_resource_used</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">resource=&quot;memory&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> unit=&quot;byte&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">) / koordlet_node_resource_allocatable</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">resource=&quot;memory&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> unit=&quot;byte&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> &lt; 0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">for</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 15m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">severity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> critical</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">summary</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Node memory exhaustion detected&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">description</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Node memory usage is above 90% for more than 15 minutes&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/scheduler/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/descheduler/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metrics-stability-and-versioning">Metrics Stability and Versioning<a href="#metrics-stability-and-versioning" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>Koordinator follows a structured approach to metrics stability and versioning to ensure backward compatibility and predictable behavior for monitoring systems.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="stability-levels">Stability Levels<a href="#stability-levels" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>Metrics are classified into different stability levels based on their maturity and expected stability:</p><ul><li><strong>STABLE</strong>: Metrics that are considered stable and will not be changed in backward-incompatible ways</li><li><strong>ALPHA</strong>: Experimental metrics that may change or be removed in future versions</li><li><strong>BETA</strong>: Metrics that are feature-complete but may still undergo changes</li></ul><p>The stability level is indicated in the metric metadata and should be considered when building monitoring and alerting systems.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deprecation-policy">Deprecation Policy<a href="#deprecation-policy" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>When metrics need to be changed or removed, Koordinator follows a deprecation policy:</p><ol><li>Mark the metric as deprecated in the documentation</li><li>Continue to expose the metric for at least two minor versions</li><li>Add a warning in the logs when the deprecated metric is accessed</li><li>Remove the metric in a subsequent major version</li></ol><p>This policy ensures that users have sufficient time to update their monitoring configurations before metrics are removed.</p><p><strong>Section sources</strong></p><ul><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/koordlet/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/scheduler/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/descheduler/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li><li><a href="https://github.com/koordinator-sh/koordinator/tree/main/pkg/slo-controller/metrics/metrics.go" target="_blank" rel="noopener noreferrer">metrics.go</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/koordinator-sh/koordinator.sh/edit/main/docs/api-reference/metrics-endpoints.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->由 <b>Frame</b> <!-- -->于 <b><time datetime="2025-10-16T04:57:42.000Z">2025年10月16日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh-Hans/docs/next/api-reference/client-libraries"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Client Libraries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh-Hans/docs/next/api-reference/webhook-endpoints"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Webhook Endpoints</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#component-metrics-endpoints" class="table-of-contents__link toc-highlight">Component Metrics Endpoints</a></li><li><a href="#koordlet-metrics" class="table-of-contents__link toc-highlight">Koordlet Metrics</a><ul><li><a href="#resource-utilization-metrics" class="table-of-contents__link toc-highlight">Resource Utilization Metrics</a></li><li><a href="#performance-and-qos-metrics" class="table-of-contents__link toc-highlight">Performance and QoS Metrics</a></li></ul></li><li><a href="#koord-scheduler-metrics" class="table-of-contents__link toc-highlight">Koord-scheduler Metrics</a><ul><li><a href="#scheduling-performance-metrics" class="table-of-contents__link toc-highlight">Scheduling Performance Metrics</a></li><li><a href="#reservation-and-quota-metrics" class="table-of-contents__link toc-highlight">Reservation and Quota Metrics</a></li></ul></li><li><a href="#koord-descheduler-metrics" class="table-of-contents__link toc-highlight">Koord-descheduler Metrics</a><ul><li><a href="#pod-eviction-metrics" class="table-of-contents__link toc-highlight">Pod Eviction Metrics</a></li></ul></li><li><a href="#koord-manager-metrics" class="table-of-contents__link toc-highlight">Koord-manager Metrics</a><ul><li><a href="#slo-controller-metrics" class="table-of-contents__link toc-highlight">SLO Controller Metrics</a></li></ul></li><li><a href="#metrics-collection-and-configuration" class="table-of-contents__link toc-highlight">Metrics Collection and Configuration</a><ul><li><a href="#configuration-parameters" class="table-of-contents__link toc-highlight">Configuration Parameters</a></li></ul></li><li><a href="#prometheus-queries-and-alerting" class="table-of-contents__link toc-highlight">Prometheus Queries and Alerting</a><ul><li><a href="#key-prometheus-queries" class="table-of-contents__link toc-highlight">Key Prometheus Queries</a></li><li><a href="#alerting-rules" class="table-of-contents__link toc-highlight">Alerting Rules</a></li></ul></li><li><a href="#metrics-stability-and-versioning" class="table-of-contents__link toc-highlight">Metrics Stability and Versioning</a><ul><li><a href="#stability-levels" class="table-of-contents__link toc-highlight">Stability Levels</a></li><li><a href="#deprecation-policy" class="table-of-contents__link toc-highlight">Deprecation Policy</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/docs/next/api-reference/docs/installation">快速开始</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/docs/next/api-reference/docs/user-manuals/colocation-profile">用户手册</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/docs/next/api-reference/docs/architecture/overview">架构</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/koordinator-sh/shared_invite/zt-1756qoub4-Cn4~esfdlfAPsD7cwO2NzA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack ( #koordinator channel )<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/docs/next/api-reference/">DingTalk (GroupID: 33383887)</a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/koordinator-sh/koordinator" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/docs/next/api-reference/blog">博客</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
        <div style="font-size: 18px">
        <br>
        <strong>Koordinator是 <a href="https://www.cncf.io/">Cloud Native Computing Foundation</a> 沙箱项目 </strong>
        <br>
        </div>
        <br>
        <img src="img/cncf-color.svg" alt="CNCF" width="auto" height="100px">
        <br>
        <div style="font-size: 14px">
        Linux基金会® (TLF) 已注册并使用商标。如需了解Linux基金会的商标列表，请访问<a href="https://www.linuxfoundation.org/trademark-usage/">商标使用</a>页面。
        <br>
        Copyright © 2024 Koordinator项目作者。保留所有权利。
        </div>
        </div></div></div></footer></div>
<script src="/zh-Hans/assets/js/runtime~main.d8ad5ec2.js"></script>
<script src="/zh-Hans/assets/js/main.f70d54d3.js"></script>
</body>
</html>