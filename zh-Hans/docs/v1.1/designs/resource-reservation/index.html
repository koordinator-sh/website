<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-v1.1 plugin-docs plugin-id-default docs-doc-id-designs/resource-reservation">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Resource Reservation | Koordinator</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://koordinator.sh/zh-Hans/docs/v1.1/designs/resource-reservation"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="v1.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v1.1"><meta data-rh="true" name="docsearch:version" content="v1.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v1.1"><meta data-rh="true" property="og:title" content="Resource Reservation | Koordinator"><meta data-rh="true" name="description" content="Summary"><meta data-rh="true" property="og:description" content="Summary"><link data-rh="true" rel="icon" href="/zh-Hans/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://koordinator.sh/zh-Hans/docs/v1.1/designs/resource-reservation"><link data-rh="true" rel="alternate" href="https://koordinator.sh/docs/v1.1/designs/resource-reservation" hreflang="en"><link data-rh="true" rel="alternate" href="https://koordinator.sh/zh-Hans/docs/v1.1/designs/resource-reservation" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://koordinator.sh/docs/v1.1/designs/resource-reservation" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://FKASWWQYOP-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/zh-Hans/blog/rss.xml" title="Koordinator RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-Hans/blog/atom.xml" title="Koordinator Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Koordinator" href="/zh-Hans/opensearch.xml"><link rel="stylesheet" href="/zh-Hans/assets/css/styles.d55f2266.css">
<link rel="preload" href="/zh-Hans/assets/js/runtime~main.0adc116e.js" as="script">
<link rel="preload" href="/zh-Hans/assets/js/main.79b37838.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Ë∑≥Âà∞‰∏ªË¶ÅÂÜÖÂÆπ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Ë∑≥Âà∞‰∏ªË¶ÅÂÜÖÂÆπ</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">‚≠êÔ∏è If you like Koordinator, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/koordinator-sh/koordinator">GitHub</a>! ‚≠êÔ∏è</div><button type="button" aria-label="ÂÖ≥Èó≠" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="‰∏ªÂØºËà™" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ÂàáÊç¢ÂØºËà™Ê†è" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-Hans/"><div class="navbar__logo"><img src="/zh-Hans/img/logo.svg" alt="Koordinator" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zh-Hans/img/logo.svg" alt="Koordinator" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Koordinator</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-Hans/docs">ÊñáÊ°£</a><a class="navbar__item navbar__link" href="/zh-Hans/blog">ÂçöÂÆ¢</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/zh-Hans/docs/v1.1/">v1.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh-Hans/docs/next/designs/resource-reservation">v1.4 üöß</a></li><li><a class="dropdown__link" href="/zh-Hans/docs/designs/resource-reservation">v1.3</a></li><li><a class="dropdown__link" href="/zh-Hans/docs/v1.2/designs/resource-reservation">v1.2</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/zh-Hans/docs/v1.1/designs/resource-reservation">v1.1</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>ÁÆÄ‰Ωì‰∏≠Êñá</a><ul class="dropdown__menu"><li><a href="/docs/v1.1/designs/resource-reservation" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh-Hans/docs/v1.1/designs/resource-reservation" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-Hans">ÁÆÄ‰Ωì‰∏≠Êñá</a></li></ul></div><a href="https://github.com/koordinator-sh/koordinator" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ÂàáÊç¢ÊµÖËâ≤/ÊöóÈªëÊ®°ÂºèÔºàÂΩìÂâç‰∏∫ÊµÖËâ≤Ê®°ÂºèÔºâ" aria-label="ÂàáÊç¢ÊµÖËâ≤/ÊöóÈªëÊ®°ÂºèÔºàÂΩìÂâç‰∏∫ÊµÖËâ≤Ê®°ÂºèÔºâ" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="ÊêúÁ¥¢"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">ÊêúÁ¥¢</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="ÂõûÂà∞È°∂ÈÉ®" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="ÊñáÊ°£‰æßËæπÊ†è" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/zh-Hans/docs/v1.1/">Âø´ÈÄüÂºÄÂßã</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/v1.1/">ÁÆÄ‰ªã</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/v1.1/installation">ÂÆâË£Ö</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/zh-Hans/docs/v1.1/architecture/overview">Êû∂ÊûÑ</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/v1.1/architecture/overview">Ê¶ÇËø∞</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/v1.1/architecture/resource-model">ËµÑÊ∫êÊ®°Âûã</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/v1.1/architecture/priority">‰ºòÂÖàÁ∫ß</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/v1.1/architecture/qos">QoS</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-Hans/docs/v1.1/user-manuals/colocation-profile">Áî®Êà∑ÊâãÂÜå</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/zh-Hans/docs/v1.1/designs/koordlet-overview">ËÆæËÆ°</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/v1.1/designs/koordlet-overview">Koordlet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/v1.1/designs/runtime-proxy">RuntimeProxy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/v1.1/designs/enhanced-scheduler-extension">Enhanced Scheduler Extension</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/v1.1/designs/load-aware-scheduling">Ë¥üËΩΩÊÑüÁü•Ë∞ÉÂ∫¶</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/v1.1/designs/fine-grained-cpu-orchestration">Á≤æÁªÜÂåñ CPU ÁºñÊéí</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh-Hans/docs/v1.1/designs/resource-reservation">Resource Reservation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/v1.1/designs/pod-migration-job">PodMigrationJob</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/v1.1/designs/descheduler-framework">Descheduler Framework</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/v1.1/designs/fine-grained-device-scheduling">Fine-grained device scheduling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/v1.1/designs/gang-scheduling">GangScheduling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-Hans/docs/v1.1/designs/multi-hierarchy-elastic-quota-management">Multi Hierarchy Elastic Quota Management</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh-Hans/docs/v1.1/best-practices/colocation-of-spark-jobs">ÊúÄ‰Ω≥ÂÆûË∑µ</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>Ê≠§‰∏∫ <!-- -->Koordinator<!-- --> <b>v1.1</b> ÁâàÁöÑÊñáÊ°£ÔºåÁé∞Â∑≤‰∏çÂÜçÁßØÊûÅÁª¥Êä§„ÄÇ</div><div class="margin-top--md">ÊúÄÊñ∞ÁöÑÊñáÊ°£ËØ∑ÂèÇÈòÖ <b><a href="/zh-Hans/docs/designs/resource-reservation">ÊúÄÊñ∞ÁâàÊú¨</a></b> (<!-- -->v1.3<!-- -->)„ÄÇ</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="È°µÈù¢Ë∑ØÂæÑ"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="‰∏ªÈ°µÈù¢" class="breadcrumbs__link" href="/zh-Hans/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">ËÆæËÆ°</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Resource Reservation</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">ÁâàÊú¨Ôºöv1.1</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Êú¨È°µÊÄªËßà</button></div><div class="theme-doc-markdown markdown"><h1>Resource Reservation</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2><p>A scheduling mechanism and its API is provided to reserve node resources for pods may not be created yet.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="motivation">Motivation<a href="#motivation" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2><p>Pods are fundamental units for allocating node resources in Kubernetes, which bind resource requirements with business logic. The scheduler is not able to reserve node resources for specific pods or workloads. We may try using a <a href="https://github.com/kubernetes/autoscaler/blob/master/cluster-autoscaler/FAQ.md#how-can-i-configure-overprovisioning-with-cluster-autoscaler" target="_blank" rel="noopener noreferrer">fake pod</a> to prepare resources by the preemption mechanism. However, fake pods can be preempted by any scheduled pods with higher priorities, which make resources get scrambled unexpectedly.</p><p>In Koordinator, a resource reservation mechanism is proposed to enhance scheduling and especially benefits scenarios below:</p><ol><li>Preemption: Existing preemption does not guarantee that only preempting pods can allocate preempted resources. With a reservation, the scheduler should be able to &quot;lock&quot; resources preventing from allocation of other pods with the same or higher priority.</li><li>De-scheduling: For the descheduler, it is better to ensure sufficient resources with the reservation before pods get rescheduled. Otherwise, rescheduled pods may not be runnable anymore and make the belonging application disrupted.</li><li>Horizontal scaling: Using reservation to achieve more deterministic horizontal scaling. e.g. Submit a reservation and make sure it is available before scaling up replicas.</li><li>Resource Pre-allocation: Sometimes we want to pre-allocate node resources for future resource demands even if the resources are not currently allocatable. Reservation can help with this and it should make no physical cost.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="goals">Goals<a href="#goals" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><ul><li>Define the basic API of resource reservation for <em>Motivations&lt;1,2,3&gt;</em>, extensible for supporting <em>Motivation&lt;4&gt;</em> in the future.</li><li>Provide a scheduler plugin that implements above reservation mechanism.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="non-goalsfuture-work">Non-Goals/Future Work<a href="#non-goalsfuture-work" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><ul><li>Detailed design of reservative preemption/descheduler/horizontal scaler/pre-allocation.</li><li>Modify kubelet admission control for reservation objects.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="proposal">Proposal<a href="#proposal" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-stories">User Stories<a href="#user-stories" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="story-1">Story 1<a href="#story-1" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h4><p>As a Kubernetes developer, I want to enhance the current <strong>preemption</strong> mechanism since preempted resources may be allocated by pods other than the preemptor. The scheduler can create a reservation for the preempting pods, so the ownership of preempted resources can be guaranteed, making the preemption more reliable.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="story-2">Story 2<a href="#story-2" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h4><p>As a cluster administrator, I want to use <strong>descheduler</strong> to migrate pods that are placed abnormally to somewhere they could &quot;live better&quot; and fulfill orchestration requirements of the app. e.g. Move pods on a over-utilized node to idler nodes and bind CPUs of same NUMA node. Reservations can be created before rescheduling pods, helping ensure there are sufficient resources and well placement.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="story-3">Story 3<a href="#story-3" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h4><p>As an application administrator, I want to make the <strong>horizontal scaling</strong> of my app more deterministic by submitting reservations before a scale-up. Besides, I can also reserve resources after a scale-down for future demands. It is useful especially when we want a guaranteed scale-up of applications for the coming business peak.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="story-4">Story 4<a href="#story-4" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h4><p>As a cluster administrator, I want to <strong>pre-allocate</strong> node resources for future usage no matter whether they are available now or not. I want to allocate the future free resources but do not disrupt the running of scheduled pods. Reservation can be made to pre-allocate resources since it makes no physical cost to the node. It may be in a <code>Waiting</code> state. When there is enough space for the reservation, it will become <code>Available</code> for the owner pods&#x27; scheduling.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="api">API<a href="#api" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>In this section, a Custom Resource Definition (CRD) named <code>Reservation</code> is proposed to allow the scheduler to reserve node resources for specific pods.</p><p><img loading="lazy" alt="image" src="/zh-Hans/assets/images/resource-reservation-0c5a187530dd5e3dc9c6e96f97add1ba.svg" width="511" height="371" class="img_ev3q"></p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Reservation objects are non-namespaced.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// It can reserve resources for pods of any namespace. Any affinity/anti-affinity of reservation scheduling can be</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// specified in the pod template.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> Reservation </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metav1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TypeMeta </span><span class="token string" style="color:#e3116c">`json:&quot;,inline&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metav1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ObjectMeta </span><span class="token string" style="color:#e3116c">`json:&quot;metadata,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Spec              ReservationSpec   </span><span class="token string" style="color:#e3116c">`json:&quot;spec,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Status            ReservationStatus </span><span class="token string" style="color:#e3116c">`json:&quot;status,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> ReservationSpec </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Template defines the scheduling requirements (resources, affinities, images, ...) processed by the scheduler just</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// like a normal pod.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// If the `template.spec.nodeName` is specified, the scheduler will not choose another node but reserve resources on</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// the specified node.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Template </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">corev1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PodTemplateSpec </span><span class="token string" style="color:#e3116c">`json:&quot;template,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Specify the owners who can allocate the reserved resources.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Multiple owner selectors and ORed.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Owners </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">ReservationOwner </span><span class="token string" style="color:#e3116c">`json:&quot;owners,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// By default, the resources requirements of reservation (specified in `template.spec`) is filtered by whether the</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// node has sufficient free resources (i.e. ReservationRequest &lt;  NodeFree).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// When `preAllocation` is set, the scheduler will skip this validation and allow overcommitment. The scheduled</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// reservation would be waiting to be available until free resources are sufficient.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// NOTE: Not supported in v0.6.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PreAllocation </span><span class="token builtin">bool</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">`json:&quot;preAllocation,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Time-to-Live period for the reservation.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// `expires` and `ttl` are mutually exclusive. If both `ttl` and `expires` are not specified, a very</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// long TTL will be picked as default. Set 0 to disable the expiration.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TTL </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">metav1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Duration </span><span class="token string" style="color:#e3116c">`json:&quot;ttl,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Expired timestamp when the reservation expires.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// `expires` and `ttl` are mutually exclusive. Defaults to being set dynamically at runtime based on the `ttl`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Expires </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">metav1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Time </span><span class="token string" style="color:#e3116c">`json:&quot;expires,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> ReservationStatus </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// The `phase` indicates whether is reservation is waiting for process (`Pending`), available to allocate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// (`Available`) or timeout/expired to get cleanup (Failed).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Phase ReservationPhase </span><span class="token string" style="color:#e3116c">`json:&quot;phase,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// The `conditions` indicate the messages of reason why the reservation is still pending.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Conditions </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">ReservationCondition </span><span class="token string" style="color:#e3116c">`json:&quot;conditions,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Current resource owners which allocated the reservation resources.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CurrentOwners </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">corev1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ObjectReference </span><span class="token string" style="color:#e3116c">`json:&quot;currentOwners,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Name of node the reservation is scheduled on.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    NodeName </span><span class="token builtin">string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">`json:&quot;nodeName,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Resource reserved and allocatable for owners.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Allocatable corev1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ResourceList </span><span class="token string" style="color:#e3116c">`json:&quot;allocatable,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Resource allocated by current owners.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Allocated corev1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ResourceList </span><span class="token string" style="color:#e3116c">`json:&quot;allocated,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> ReservationOwner </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Multiple field selectors are ANDed.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Object        </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">corev1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ObjectReference         </span><span class="token string" style="color:#e3116c">`json:&quot;object,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Controller    </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">ReservationControllerReference </span><span class="token string" style="color:#e3116c">`json:&quot;controller,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LabelSelector </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">metav1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">LabelSelector           </span><span class="token string" style="color:#e3116c">`json:&quot;labelSelector,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> ReservationControllerReference </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Extend with a `namespace` field for reference different namespaces.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    metav1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">OwnerReference </span><span class="token string" style="color:#e3116c">`json:&quot;,inline&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Namespace             </span><span class="token builtin">string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">`json:&quot;namespace,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> ReservationPhase </span><span class="token builtin">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ReservationPending indicates the Reservation has not been processed by the scheduler or is unschedulable for</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// some reasons (e.g. the resource requirements cannot get satisfied).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ReservationPending ReservationPhase </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Pending&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ReservationAvailable indicates the Reservation is both scheduled and available for allocation.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ReservationAvailable ReservationPhase </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Available&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ReservationWaiting indicates the Reservation is scheduled, but the resources to reserve are not ready for</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// allocation (e.g. in pre-allocation for running pods).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ReservationWaiting ReservationPhase </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Waiting&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ReservationFailed indicates the Reservation is failed to reserve resources, due to expiration or marked as</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// unavailable, which the object is not available to allocate and will get cleaned in the future.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ReservationFailed ReservationPhase </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Failed&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> ReservationCondition </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Type               ReservationConditionType </span><span class="token string" style="color:#e3116c">`json:&quot;type,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Status             ConditionStatus          </span><span class="token string" style="color:#e3116c">`json:&quot;status,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Reason             </span><span class="token builtin">string</span><span class="token plain">                   </span><span class="token string" style="color:#e3116c">`json:&quot;reason,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message            </span><span class="token builtin">string</span><span class="token plain">                   </span><span class="token string" style="color:#e3116c">`json:&quot;message,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LastProbeTime      metav1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Time              </span><span class="token string" style="color:#e3116c">`json:&quot;lastProbeTime,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    LastTransitionTime metav1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Time              </span><span class="token string" style="color:#e3116c">`json:&quot;lastTransitionTime,omitempty&quot;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> ReservationConditionType </span><span class="token builtin">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ReservationConditionScheduled ReservationConditionType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Scheduled&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ReservationConditionReady     ReservationConditionType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Ready&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> ConditionStatus </span><span class="token builtin">string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ConditionStatusTrue    ConditionStatus </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;True&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ConditionStatusFalse   ConditionStatus </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;False&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ConditionStatusUnknown ConditionStatus </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Unknown&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ReasonReservationScheduled     </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Scheduled&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ReasonReservationUnschedulable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Unschedulable&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ReasonReservationAvailable     </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Available&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ReasonReservationExpired       </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Expired&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Â§çÂà∂‰ª£Á†ÅÂà∞Ââ™Ë¥¥Êùø" title="Â§çÂà∂" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-details">Implementation Details<a href="#implementation-details" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="reservation-plugin">Reservation Plugin<a href="#reservation-plugin" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="schedule-reservations">Schedule Reservations<a href="#schedule-reservations" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h5><p>A <code>Reservation</code> object has its scheduling requirements like a pod. Ideally, A <code>Reservation</code> object should get processed directly by the scheduler like a pod. However, it can require a series of modifications on <a href="https://kubernetes.io/docs/concepts/scheduling-eviction/scheduling-framework/" target="_blank" rel="noopener noreferrer">scheduling framework</a>, losing the compatibility with standard kube-scheduler, kubelet, autoscaler, etc. In the reservation plugin, we fake one <em>reservation pod</em> for one <code>Reservation</code> inside the scheduler to fulfill general scheduling plugins (noderesources, nodeaffinity, tainttolerations, ...). The scheduling framework can handle <code>Reservation</code> objects by processing fake pods in both <a href="https://kubernetes.io/docs/concepts/scheduling-eviction/scheduling-framework/#scheduling-cycle-binding-cycle" target="_blank" rel="noopener noreferrer">scheduling cycle and binding cycle</a>.</p><p>A fake pod inside the scheduler can construct the same affinity/anti-affinity constraints as owner pods, which may change the reservation result. To handle this problem, koord-scheduler extends the framework to skip check of pod affinity for existing reservations in the <code>Filter</code> phase.</p><p>A reservation specified <code>PreAllocation</code> intends to pre-allocate resources on nodes. The scheduler will skip its filtering of node resources in the scheduling cycle. However, the scheduled reservation will be <code>Waiting</code> to be <code>Available</code> until there are enough resources to fulfill its requests.</p><p>If all nodes are unscheduled for the reservation, the scheduler keeps its status as <code>Pending</code> and sets <code>Conditions</code> with the failure message.</p><p>Once the scheduling decision has been made, the corresponding <code>Reservation</code> object is updated with a new status indicating whether the reservation succeeded or not. The fake pod does not expose to other components, and the kubelet without modification does not perceive a <code>Reservation</code> assigned. Fortunately, a <code>Reservation</code> does not need to be executable on the node, so existing containers can keep running as usual without additional admissions.</p><p>If a reservation has set the <code>nodeName</code> (inside the <code>template</code> field), the scheduler is responsible for checking if the node can fulfill the reservation since kubelet does not do admissions for the reservation.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="allocate-reserved-resources">Allocate Reserved Resources<a href="#allocate-reserved-resources" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h5><p>Let&#x27;s call the reservation is <em>allocatable</em> for a pod if:</p><ol><li>The reservation is available.</li><li>The pod matches the reservation owner spec.</li><li>There are sufficient free resources in the reservation to fulfill the pod.</li></ol><p>When the reservation plugin is enabled, the scheduler checks for every scheduling pod if there are allocatable reservations on a node. With a <code>Score</code> plugin implemented, the scheduler prefers pods to schedule on nodes which have more allocatable reserved resources.</p><p>When a pod is scheduled on a node with allocatable reservations, it allocates resources belonging to one of reservations. To pick one of reservations, we choose the one which can get most reserved resources allocated (i.e. MostAllocated). And the scheduler also annotates the pod with the reservation info.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="expiration-and-cleanup">Expiration and Cleanup<a href="#expiration-and-cleanup" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h5><p>When a reservation has been created for a long time exceeding the <code>TTL</code> or <code>Expires</code>, the scheduler updates its status as <code>Expired</code>. For expired reservations, the scheduler will cleanup them with a custom garbage collection period.</p><p>When a node is deleted, the available and waiting reservations on the node should be marked as <code>Failed</code> since they are not allocatable any more.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases">Use Cases<a href="#use-cases" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h4><p>To generally reserve node resources, submit a <code>Reservation</code> and set the pod template in the field <code>spec.template</code>. Then the koord-scheduler will update this <code>Reservation</code> with the scheduling result and the resources will get reserved.</p><p>To be more specific,</p><ul><li><code>spec.template</code> specifies the fundamental resource requirements of a reservation. The scheduler will schedule the fake pod based on the template.</li><li><code>spec.owners</code> specifies which kinds of pods can use the reservation.</li><li><code>spec.ttl</code> and <code>expires</code> specifies the expiration for the reservation.</li><li><code>spec.preAllocation</code> indicates whether the scheduler should filter with its resource requirements. Otherwise, the pre-allocation of node resources is allowed, and the reservation will become available until there are sufficient resources.</li><li><code>status.phase</code> is marked as <code>Pending</code> when the Reservation is created. And it is marked as <code>Available</code> when the Reservation is successfully scheduled.</li><li><code>status.conditions</code> shows why the reservation is unscheduled or failed.</li><li>When a Reservation is <code>Available</code> on the node, only specified pods can allocate the reserved resources.</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="usage-in-preemption">Usage in Preemption<a href="#usage-in-preemption" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h5><p>The <a href="https://kubernetes.io/docs/concepts/scheduling-eviction/pod-priority-preemption/#preemption" target="_blank" rel="noopener noreferrer">Priority Preemption</a> happens in the PostFilter phase trying to make preemptive pods schedulable by evicting low-priority pods. When a pod succeeds the preemption, the pod <code>status</code> will be patched with a <em>nominated node</em> where the scheduler do the eviction. However, the preemptor&#x27;s nominated node is not always the same as the scheduled node, since the scheduler does not reserve resources for the preemptor.
To ensure the preemptive resources are for the preemptor, firstly the scheduler can create a reservation that both sets <code>owners</code> with the preemptor pod and relevant affinity rules for reserving resources of the preempts. Then the scheduler evict pods, and the reservation will become <code>Available</code> once the resources are released. Finally, the preemptor pods can get scheduled on the nodes with preemptive resource reserved.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="usage-in-descheduling">Usage in Descheduling<a href="#usage-in-descheduling" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h5><p>Before a pod is rescheduled, the descheduler can create a reservation that sets <code>template</code> and <code>owners</code> for the candidate. When the reservation becomes <code>Available</code>, the descheduler can assign the pod to allocate the reserved resources. This solves the problem in which the rescheduled pod has stopped at the old node but cannot run on the new node. Moreover, the descheduler can migrate resources between pods by setting the <code>preAllocation</code> field.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="usage-in-pre-allocation">Usage in Pre-allocation<a href="#usage-in-pre-allocation" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h5><p>Reservations with <code>preAllocation</code> specified allow users to pre-allocate the node resources from running pods. The <code>status.phase</code> of the reservation is set as <code>Waiting</code> until the resources are released, indicating that its availability is conditional. Once the referenced pods have terminated, the <code>phase</code> is <code>Available</code> for owners, and the pre-allocation succeeds.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="risks-and-mitigations">Risks and Mitigations<a href="#risks-and-mitigations" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>Kubelet without any modification possibly ignore <code>Reservation</code> objects in predicate admission, which increases the chance of unexpected overcommitment at nodes. <code>Reservation</code> does not require any physical resources to be executable, so the overcommitment is mainly a problem only when pods get scheduled with <code>Reservation</code> and start to run, which is somewhat easier to mitigate since Kubelet do admit these pods. To further descrease the possibility of unexpected overcommitment or pods admit failures, we could use resource estimation for in-flight pods, balance pods to the nodes with less reserved resources, etc.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="unsolved-problems">Unsolved Problems<a href="#unsolved-problems" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2><p>As stated above, <code>Reservation</code> can generate the same pod affinity/anti-affinity rules as the owner pods. The problem gets resolved in the koord-scheduler by extending scheduling framework, but it still limits the standard kube-scheduler.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="alternatives">Alternatives<a href="#alternatives" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-a-pause-pod-with-a-low-priority-to-reserve-resources">Use a <code>pause</code> pod with a low priority to reserve resources<a href="#use-a-pause-pod-with-a-low-priority-to-reserve-resources" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h3><p>Reserving resources with <a href="https://github.com/kubernetes/autoscaler/blob/master/cluster-autoscaler/FAQ.md#how-can-i-configure-overprovisioning-with-cluster-autoscaler" target="_blank" rel="noopener noreferrer"><code>pause</code> pods with very low assigned priority</a> does work when the preemption can be precisely enabled for specific pods. In the example of cluster autoscaler, <code>pause</code> pods are helpful when we need to overprovision resources to prevent idle nodes from scaling down by CA. However, a <code>pause</code> pod has no reservation guarantee except <code>priority</code>. As declared above, many scenarios require reservations to rely on other pod characteristics (e.g. names, namespaces, labels, priorityClass), where <code>pause</code> pods cannot meet the demands.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•" title="Ê†áÈ¢òÁöÑÁõ¥Êé•ÈìæÊé•">‚Äã</a></h2><ol><li><a href="https://docs.google.com/document/d/1sbFUA_9qWtorJkcukNULr12FKX6lMvISiINxAURHNFo" target="_blank" rel="noopener noreferrer">Kueue Pod Resource Reservation</a></li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/koordinator-sh/koordinator.sh/edit/main/docs/designs/resource-reservation.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ÁºñËæëÊ≠§È°µ</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">ÊúÄÂêé<!-- -->Áî± <b>Siyu Wang</b> <!-- -->‰∫é <b><time datetime="2023-01-03T06:52:12.000Z">2023Âπ¥1Êúà3Êó•</time></b> <!-- -->Êõ¥Êñ∞</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ÊñáÊ°£ÂàÜÈ°µÂØºËà™"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh-Hans/docs/v1.1/designs/fine-grained-cpu-orchestration"><div class="pagination-nav__sublabel">‰∏ä‰∏ÄÈ°µ</div><div class="pagination-nav__label">Á≤æÁªÜÂåñ CPU ÁºñÊéí</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh-Hans/docs/v1.1/designs/pod-migration-job"><div class="pagination-nav__sublabel">‰∏ã‰∏ÄÈ°µ</div><div class="pagination-nav__label">PodMigrationJob</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#motivation" class="table-of-contents__link toc-highlight">Motivation</a><ul><li><a href="#goals" class="table-of-contents__link toc-highlight">Goals</a></li><li><a href="#non-goalsfuture-work" class="table-of-contents__link toc-highlight">Non-Goals/Future Work</a></li></ul></li><li><a href="#proposal" class="table-of-contents__link toc-highlight">Proposal</a><ul><li><a href="#user-stories" class="table-of-contents__link toc-highlight">User Stories</a></li><li><a href="#api" class="table-of-contents__link toc-highlight">API</a></li><li><a href="#implementation-details" class="table-of-contents__link toc-highlight">Implementation Details</a></li><li><a href="#risks-and-mitigations" class="table-of-contents__link toc-highlight">Risks and Mitigations</a></li></ul></li><li><a href="#unsolved-problems" class="table-of-contents__link toc-highlight">Unsolved Problems</a></li><li><a href="#alternatives" class="table-of-contents__link toc-highlight">Alternatives</a><ul><li><a href="#use-a-pause-pod-with-a-low-priority-to-reserve-resources" class="table-of-contents__link toc-highlight">Use a <code>pause</code> pod with a low priority to reserve resources</a></li></ul></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ÊñáÊ°£</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/docs/v1.1/designs/docs/installation">Âø´ÈÄüÂºÄÂßã</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/docs/v1.1/designs/docs/user-manuals/colocation-profile">Áî®Êà∑ÊâãÂÜå</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/docs/v1.1/designs/docs/architecture/overview">Êû∂ÊûÑ</a></li></ul></div><div class="col footer__col"><div class="footer__title">Á§æÂå∫</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/koordinator-sh/shared_invite/zt-1756qoub4-Cn4~esfdlfAPsD7cwO2NzA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack ( #koordinator channel )<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/docs/v1.1/designs/">DingTalk (GroupID: 33383887)</a></li></ul></div><div class="col footer__col"><div class="footer__title">Êõ¥Â§ö</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/koordinator-sh/koordinator" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/zh-Hans/docs/v1.1/designs/blog">ÂçöÂÆ¢</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
        <br>
        <strong>Copyright ¬© 2022 The Koordinator Authors. All rights reserved.</strong></div></div></div></footer></div>
<script src="/zh-Hans/assets/js/runtime~main.0adc116e.js"></script>
<script src="/zh-Hans/assets/js/main.79b37838.js"></script>
</body>
</html>